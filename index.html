<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flask</title>
    <script src="https://unpkg.com/jquery/dist/jquery.min.js"></script>
    <script src="https://cdn.socket.io/4.0.0/socket.io.min.js"></script>
    <script>
        var socket = io();
        document.addEventListener('DOMContentLoaded', (event) => {
            socket.on('connect', function() {
                socket.send('connect');
            });
            socket.on('message', function(msg) {
                var p = document.createElement('p');
                p.innerText = JSON.stringify(msg);
                document.getElementById('status').innerHTML = JSON.stringify(msg);
                //document.getElementById('status').appendChild(p);
            });
        });

        function res_id(id, str) {
            document.getElementById(id).innerHTML = str;
        }

        function CheckData() {
            var data = {}
            data.status = 'message';
            data.key = 'start';
            data.value = 1;
            socket.send(JSON.stringify(data));
        }

        function toggleCheckbox(id,app) {
            var data = {}
            data.status = 'start';
            data.key = 'gpio';
            data.value = id;
            data.data = app;
            socket.send(JSON.stringify(data));
        }

        function sendAction() {
            var data = {}
            data.status = 'update';
            data.key = 'action';
            data.value = $('#action').val();
            socket.send(JSON.stringify(data));
        }

        function LoginPlayer(id, val) {
            var data = {}
            data.status = 'update';
            data.key = id;
            data.value = val;
            socket.send(JSON.stringify(data));
        }

    </script>

    <style>
        body {
            font-family: Arial;
            text-align: center;
            margin: 0px auto;
            padding-top: 30px;
        }
        .switch {
            position: relative;
            display: inline-block;
            width: 120px;
            height: 68px
        }

        .switch input {
            display: none
        }
        .slider {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            border-radius: 34px
        }
        .slider:before {
            position: absolute;
            content: "";
            height: 52px;
            width: 52px;
            left: 8px;
            bottom: 8px;
            background-color: #fff;
            -webkit-transition: .4s;
            transition: .4s;
            border-radius: 68px
        }
        input:checked+.slider {
            background-color: #2196F3
        }
        input:checked+.slider:before {
            -webkit-transform: translateX(52px);
            -ms-transform: translateX(52px);
            transform: translateX(52px)
        }
    </style>


</head>
<body>
    <div>
    <h1>GPIO-17</h1>
    <label class="switch">
        <input type="checkbox" onchange="toggleCheckbox(17,this.checked)">
        <span class="slider"></span>
    </label>
    </div>

    <div>
    <h1>GPIO-22</h1>
    <label class="switch">
        <input type="checkbox" onchange="toggleCheckbox(22,this.checked)">
        <span class="slider"></span>
    </label>
    </div>

    <div>
    <h1>GPIO-23</h1>
    <label class="switch">
        <input type="checkbox" onchange="toggleCheckbox(23,this.checked)">
        <span class="slider"></span>
    </label>
    </div>

    <div>
    <h1>GPIO-27</h1>
    <label class="switch">
        <input type="checkbox" onchange="toggleCheckbox(27,this.checked)">
        <span class="slider"></span>
    </label>
    </div>


</body>
</html>
</body>
</html>